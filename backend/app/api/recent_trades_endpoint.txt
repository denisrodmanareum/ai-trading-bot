

@router.get("/recent-trades")
async def get_recent_trades(symbol: str = "BTCUSDT", limit: int = 30):
    """Get recent market trades for display in Last Trades panel"""
    try:
        import app.main as main
        
        if main.exchange_client is None:
            raise HTTPException(status_code=503, detail="Exchange not connected")
        
        return await main.exchange_client.get_recent_trades(symbol=symbol, limit=limit)
        
    except Exception as e:
        logger.error(f"Failed to get recent trades: {e}")
        raise HTTPException(status_code=500, detail=str(e))
